<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pankaj Narula - Research</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div id="navbar-placeholder"></div>

<div class="container">
  <div class="content">
    <h1 id="calc-heading">Research</h1>
    <p>Display information about ongoing research, publications, and collaborations here.</p>
  </div>
</div>

<div id="footer-placeholder"></div>

<script src="announcements.js"></script>

<script>
fetch('navbar.html')
  .then(response => response.text())
  .then(data => {
    document.getElementById('navbar-placeholder').innerHTML = data;

    // Desktop hover links (optional)
    document.querySelectorAll(".dropdown > a").forEach(link=>{
      // you can remove this if using CSS hover
    });

    // Mobile dropdown setup
    function setupMobileDropdowns() {
      if (window.innerWidth <= 768) { // only for mobile
        const dropdowns = document.querySelectorAll('.dropdown');

        dropdowns.forEach(dropdown => {
          const link = dropdown.querySelector('a');

          // Remove previous listeners to avoid duplicates
          link.replaceWith(link.cloneNode(true));
        });

        const newDropdowns = document.querySelectorAll('.dropdown');

        newDropdowns.forEach(dropdown => {
          const link = dropdown.querySelector('a');

          link.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation(); // prevent immediate close
            dropdown.classList.toggle('open'); // toggle dropdown
          });
        });

        // Close dropdown if clicking outside
        document.addEventListener('click', function() {
          newDropdowns.forEach(dropdown => {
            dropdown.classList.remove('open');
          });
        });
      }
    }

    setupMobileDropdowns();

    window.addEventListener('resize', setupMobileDropdowns);
  })
  .catch(err => console.error('Error loading navbar:', err));
</script>

<script>
fetch('footer.html')
  .then(response => response.text())
  .then(data => {
    document.getElementById('footer-placeholder').innerHTML = data;
  })
  .catch(err => console.error('Error loading footer:', err));
</script>

</body>
</html>
